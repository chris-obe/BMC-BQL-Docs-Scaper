SEARCH flags(include_destroyed) SoftwareInstance 
WHERE #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.name is defined
ORDER BY
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.#ContainedFunctionality:FunctionalContainment:FunctionalContainer:BusinessApplicationInstance.name,
    destroyed(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.#ContainedFunctionality:FunctionalContainment:FunctionalContainer:BusinessApplicationInstance),
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.name,
    destroyed(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent),
    name,
    destroyed(#),
    destroyed(#RunningSoftware:HostedSoftware:Host:Host)
SHOW
    type as 'SI type',
    name as 'SI name',
    destroyed(#) as 'SI is destroyed',
    #RunningSoftware:HostedSoftware:Host:Host.name as 'SI Host Name',
    destroyed(#RunningSoftware:HostedSoftware:Host:Host) as 'Host is destroyed'
PROCESSWITH flags(include_destroyed) 
SHOW
    @0,
    @1,
    @2,
EXPLODE
    @3,
    @4,
EXPLODE
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.name as 'FuncComp name', 
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.type as 'FuncComp type',
    destroyed(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent) as 'FuncComp is destroyed',
    formatTime(creationTime(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent), '%d-%m-%Y') as 'FuncComp created date',
    formatTime(destructionTime(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent), '%d-%m-%Y') as 'FuncComp destroyed date',
EXPLODE
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.#ContainedFunctionality:FunctionalContainment:FunctionalContainer:BusinessApplicationInstance.name as 'BAI name', 
    #ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.#ContainedFunctionality:FunctionalContainment:FunctionalContainer:BusinessApplicationInstance.type as 'BAI type',
    destroyed(#ContainedFunctionality:FunctionalContainment:FunctionalContainer:FunctionalComponent.#ContainedFunctionality:FunctionalContainment:FunctionalContainer:BusinessApplicationInstance) as 'BAI is destroyed'
